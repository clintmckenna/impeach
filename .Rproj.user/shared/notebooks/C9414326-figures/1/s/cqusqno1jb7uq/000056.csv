"0","library(tm)"
"0","library(wordcloud)"
"0","# convert text to a corpus"
"0","text <- Corpus(VectorSource(text))"
"0","# do some basic cleaning of text"
"0","text <- text %>%"
"0","  tm_map(removePunctuation) %>%"
"0","  tm_map(removeNumbers) %>%"
"0","  tm_map(tolower) %>%"
"0","  tm_map(removeWords, stopwords('english'))"
"2","transformation drops documents"
"2","transformation drops documents"
"2","transformation drops documents"
"2","transformation drops documents"
"0","# create term document matrix"
"0","tdm <- TermDocumentMatrix(text) "
"0","tdmMatrix <- as.matrix(tdm) "
"0","words <- sort(rowSums(tdmMatrix), decreasing=TRUE) "
"0","datMatrix <- data.frame(word = names(words), freq = words)"
"0","# print and save wordcloud"
"0","png('../figures/wordcloud.png', units=""in"", width=6, height=6, res=750)"
"0","wordcloud("
"0","  words = datMatrix$word,"
"0","  max.words = Inf,"
"0","  freq = datMatrix$freq,"
"0","  min.freq = 1,"
"0","  random.order = FALSE,"
"0","  color = brewer.pal(9, 'Blues')[(5:9)],"
"0","  rot.per=0.15, "
"0","  scale = c(3.5, 0.1))"
